<view class="container">
  <!-- 顶部导航 -->
  <t-navbar 
    title="{{t.navTitle}}" 
    left-arrow
    title-color="#ffffff"
    left-arrow-color="#ffffff"
    t-class="t-navbar"
    fixed
    placeholder
    bind:click-left="onBackTap"
  />

  <!-- 排行榜列表 -->
  <scroll-view scroll-y="true" class="scroll-area" bindscrolltolower="onReachBottom">
    <view class="ranking-item" wx:for="{{rankings}}" wx:key="index">
      <view class="flex-start">
        <block wx:if="{{item.rank <= 3}}">
          <image class="ranking-medal mr-small" src="/assets/icons/{{item.rank === 1 ? 'first' : (item.rank === 2 ? 'second' : 'third')}}.png" mode="aspectFit" />
        </block>
        <block wx:else>
          <view class="ranking-number {{item.isUser ? 'you' : ''}}">{{item.rank}}</view>
        </block>
        <image wx:if="{{item.avatarUrl}}" class="ranking-avatar mr-small" src="{{item.avatarUrl}}" mode="aspectFill"></image>
        <view wx:else class="ranking-avatar-fallback mr-small"><text class="iconfont icon-a-MATE_huaban1fuben118" style="color:#ffffff;font-size:28rpx;"></text></view>
        <text class="{{item.isUser ? 'text-primary font-bold' : ''}}">{{item.name}}</text>
      </view>
      <text class="{{item.isUser ? 'text-primary font-bold' : 'font-bold'}}">{{item.points}}{{t.points}}</text>
    </view>

    <!-- 加载提示 -->
    <view class="load-more" wx:if="{{loading}}">
      <text>{{t.loading}}</text>
    </view>
    <view class="load-more" wx:if="{{!hasMore && rankings.length > 0}}">
      <text>{{t.noMore}}</text>
    </view>
  </scroll-view>
</view> 